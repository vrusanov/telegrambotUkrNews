# –†–æ–∑—à–∏—Ä–µ–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –ø–∞—Ä—Å–µ—Ä–∞ —à–≤–µ–π—Ü–∞—Ä—Å—å–∫–∏—Ö –Ω–æ–≤–∏–Ω

## üéØ –û–≥–ª—è–¥ –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

### 1. üìä Google Sheets —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–æ–≤–∏–Ω –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü—ñ—ó
- –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –∑ –ø–æ–ª—è–º–∏: Title, Summary, FullText, Link, Approved
- Workflow –º–æ–¥–µ—Ä–∞—Ü—ñ—ó –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Å—Ö–≤–∞–ª–µ–Ω–Ω—è/–≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è

### 2. üñºÔ∏è –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å —á–µ—Ä–µ–∑ DALL-E
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å–∏–Ω–æ–ø—Å–∏—Å—É
- –°—Ç–∏–ª—å: realistic photo, journalistic, official setting
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –ª–æ–∫–∞–ª—å–Ω–æ

### 3. üì± –†–æ–∑—à–∏—Ä–µ–Ω–∏–π Telegram –±–æ—Ç
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –∑–æ–±—Ä–∞–∂–µ–Ω—å –∑ —Ç–µ–∫—Å—Ç–æ–º
- –ú–µ—Ç–æ–¥–∏ sendPhoto —Ç–∞ sendMessage
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

### 4. üîÑ –Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π workflow –º–µ–Ω–µ–¥–∂–µ—Ä
- –ü–æ–≤–Ω–∏–π —Ü–∏–∫–ª: –ø–∞—Ä—Å–∏–Ω–≥ ‚Üí –æ–±—Ä–æ–±–∫–∞ ‚Üí –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è ‚Üí –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è
- –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –≤–∏–º–∫–Ω–µ–Ω–Ω—è –æ–∫—Ä–µ–º–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–º–∏ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏

### –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
# –û–Ω–æ–≤–ª–µ–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤–∫–ª—é—á–∞—é—Ç—å Google Sheets API
pip install -r requirements.txt
```

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Google Sheets
–î–æ—Ç—Ä–∏–º—É–π—Ç–µ—Å—å —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π –≤ `GOOGLE_SHEETS_SETUP.md`

### –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
# –°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–∞ –≤—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .env —Ñ–∞–π–ª
cp .env.example .env

# –î–æ–¥–∞–π—Ç–µ –≤–∞—à—ñ API –∫–ª—é—á—ñ —Ç–∞ ID
export OPENAI_API_KEY="your-openai-key"
export GOOGLE_SPREADSHEET_ID="your-spreadsheet-id"
export TELEGRAM_BOT_TOKEN="your-bot-token"
export TELEGRAM_CHAT_ID="your-chat-id"
```

### –ö—Ä–æ–∫ 4: –ó–∞–ø—É—Å–∫ —Ä–æ–∑—à–∏—Ä–µ–Ω–æ–≥–æ workflow
```bash
# –ü–æ–≤–Ω–∏–π —Ü–∏–∫–ª –∑ —É—Å—ñ–º–∞ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏
python main.py

# –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ–∫—Ä–µ–º—ñ –º–æ–¥—É–ª—ñ
python news_workflow_manager.py
```

## üìã –î–µ—Ç–∞–ª—å–Ω–∏–π workflow

### 1. –ü–∞—Ä—Å–∏–Ω–≥ —Ç–∞ –æ–±—Ä–æ–±–∫–∞ (main.py)
```bash
python main.py
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**
- –ü–∞—Ä—Å–∏–Ω–≥ RSS-—Å—Ç—Ä—ñ—á–æ–∫ —à–≤–µ–π—Ü–∞—Ä—Å—å–∫–∏—Ö —Å–∞–π—Ç—ñ–≤
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –Ω–æ–≤–∏–Ω –ø—Ä–æ –£–∫—Ä–∞—ó–Ω—É
- GPT-4 –æ–±—Ä–æ–±–∫–∞ (–ø–µ—Ä–µ–∫–ª–∞–¥, —Ä–µ–∑—é–º–µ, –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è)
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ Google Sheets –∑ `Approved = No`
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å —á–µ—Ä–µ–∑ DALL-E
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —É JSON

### 2. –ú–æ–¥–µ—Ä–∞—Ü—ñ—è (Google Sheets)
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Google —Ç–∞–±–ª–∏—Ü—é
2. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –Ω–æ–≤—ñ —Å—Ç–∞—Ç—Ç—ñ
3. –ó–º—ñ–Ω—ñ—Ç—å `Approved` –Ω–∞ `Yes` –¥–ª—è —Å—Ö–≤–∞–ª–µ–Ω–∏—Ö —Å—Ç–∞—Ç–µ–π
4. –î–æ–¥–∞–π—Ç–µ –ø—Ä–∏–º—ñ—Ç–∫–∏ –≤ –∫–æ–ª–æ–Ω–∫—É `Notes` –∑–∞ –ø–æ—Ç—Ä–µ–±–∏

### 3. –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è —Å—Ö–≤–∞–ª–µ–Ω–∏—Ö (publish_approved_news.py)
```bash
python publish_approved_news.py
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**
- –ß–∏—Ç–∞–Ω–Ω—è —Å—Ö–≤–∞–ª–µ–Ω–∏—Ö —Å—Ç–∞—Ç–µ–π –∑ Google Sheets
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –¥–ª—è —Å—Ç–∞—Ç–µ–π (—è–∫—â–æ –Ω–µ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ)
- –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –≤ Telegram –∑ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º–∏
- –ü–æ–∑–Ω–∞—á–µ–Ω–Ω—è —è–∫ –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ –≤ Google Sheets

## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –º–æ–¥—É–ª—ñ–≤

### Google Sheets Manager
```python
from google_sheets_integration import GoogleSheetsManager

manager = GoogleSheetsManager(
    credentials_path="credentials.json",
    spreadsheet_id="your-spreadsheet-id"
)

# –î–æ–¥–∞–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç—Ç—ñ
manager.add_article(article)

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ö–≤–∞–ª–µ–Ω–∏—Ö —Å—Ç–∞—Ç–µ–π
approved = manager.get_approved_articles()
```

### DALL-E Image Generator
```python
from dalle_image_generator import DALLEImageGenerator

generator = DALLEImageGenerator(
    api_key="your-openai-key",
    images_dir="images"
)

# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
image_path = generator.generate_and_save_image(
    summary="–®–≤–µ–π—Ü–∞—Ä—ñ—è –Ω–∞–¥–∞—î –¥–æ–ø–æ–º–æ–≥—É –£–∫—Ä–∞—ó–Ω—ñ",
    filename="news_image.png"
)
```

### –†–æ–∑—à–∏—Ä–µ–Ω–∏–π Telegram –±–æ—Ç
```python
from telegram_bot_advanced import TelegramBotAdvanced

bot = TelegramBotAdvanced(
    bot_token="your-bot-token",
    chat_id="your-chat-id"
)

# –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∑ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º
bot.send_post_with_image(
    text="–¢–µ–∫—Å—Ç –Ω–æ–≤–∏–Ω–∏",
    image_path="path/to/image.png"
)
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Google Sheets

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å | –†–µ–¥–∞–≥—É—î—Ç—å—Å—è |
|---------|------|-------------|
| Timestamp | –î–∞—Ç–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è | –ù—ñ |
| Source | –î–∂–µ—Ä–µ–ª–æ –Ω–æ–≤–∏–Ω–∏ | –ù—ñ |
| Title | –ó–∞–≥–æ–ª–æ–≤–æ–∫ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é | –ù—ñ |
| Summary | –°–∏–Ω–æ–ø—Å–∏—Å | –ù—ñ |
| FullText | –ü–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç | –ù—ñ |
| Link | –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª | –ù—ñ |
| **Approved** | **–°—Ö–≤–∞–ª–µ–Ω–æ (Yes/No)** | **–¢–∞–∫** |
| Published | –û–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ | –ù—ñ |
| Notes | –ü—Ä–∏–º—ñ—Ç–∫–∏ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ | –¢–∞–∫ |
| Image_Generated | –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è | –ù—ñ |

## üñºÔ∏è DALL-E –ø—Ä–æ–º–ø—Ç–∏

### –ë–∞–∑–æ–≤–∏–π –ø—Ä–æ–º–ø—Ç
```
Generate an image representing: {summary}. 
Style: realistic photo, journalistic, subtle colors, no faces, 
professional news photography, official setting, news-oriented.
```

### –í–∞—Ä—ñ–∞—Ü—ñ—ó —Å—Ç–∏–ª—ñ–≤
- **–†–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π**: `realistic photo, documentary style`
- **–û—Ñ—ñ—Ü—ñ–π–Ω–∏–π**: `official setting, formal, professional lighting`
- **–°–∏–º–≤–æ–ª—ñ—á–Ω–∏–π**: `symbolic representation, abstract but clear`
- **–ú—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π**: `clean design, subtle colors, minimalist`

## üì± Telegram —Ñ—É–Ω–∫—Ü—ñ—ó

### –í—ñ–¥–ø—Ä–∞–≤–∫–∞ —Ç—ñ–ª—å–∫–∏ —Ç–µ–∫—Å—Ç—É
```python
bot.send_message("–¢–µ–∫—Å—Ç –Ω–æ–≤–∏–Ω–∏")
```

### –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∑ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º
```python
bot.send_photo(
    image_path="image.png",
    caption="–ü—ñ–¥–ø–∏—Å –¥–æ —Ñ–æ—Ç–æ"
)
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –≤–∏–±—ñ—Ä –º–µ—Ç–æ–¥—É
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–±–µ—Ä–µ sendPhoto –∞–±–æ sendMessage
bot.send_post_with_image(text, image_path)
```

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è

### Cron –¥–ª—è –ø–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª—É
```bash
# –©–æ–¥–Ω—è –æ 9:00 - –ø–∞—Ä—Å–∏–Ω–≥ —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
0 9 * * * cd /path/to/project && python main.py

# –©–æ–¥–Ω—è –æ 12:00 - –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è —Å—Ö–≤–∞–ª–µ–Ω–∏—Ö
0 12 * * * cd /path/to/project && python publish_approved_news.py
```

### –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó
```bash
#!/bin/bash
# auto_news_workflow.sh

echo "–ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥—É –Ω–æ–≤–∏–Ω..."
python main.py

echo "–û—á—ñ–∫—É–≤–∞–Ω–Ω—è –º–æ–¥–µ—Ä–∞—Ü—ñ—ó (3 –≥–æ–¥–∏–Ω–∏)..."
sleep 10800

echo "–ü—É–±–ª—ñ–∫–∞—Ü—ñ—è —Å—Ö–≤–∞–ª–µ–Ω–∏—Ö –Ω–æ–≤–∏–Ω..."
python publish_approved_news.py

echo "Workflow –∑–∞–≤–µ—Ä—à–µ–Ω–æ"
```

## üìà –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥–∏

### –û—Å–Ω–æ–≤–Ω—ñ –ª–æ–≥-—Ñ–∞–π–ª–∏
- `swiss_news.log` - –∑–∞–≥–∞–ª—å–Ω—ñ –ª–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞
- `publish_approved.log` - –ª–æ–≥–∏ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó
- `dalle_generation.log` - –ª–æ–≥–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–æ–±—Ä–∞–∂–µ–Ω—å

### –ö–æ–º–∞–Ω–¥–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
```bash
# –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–∞—Ä—Å–∏–Ω–≥—É
tail -f swiss_news.log

# –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó
tail -f publish_approved.log

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å
ls -la images/

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Google Sheets
python -c "
from google_sheets_integration import GoogleSheetsManager
manager = GoogleSheetsManager('credentials.json', 'your-id')
approved = manager.get_approved_articles()
print(f'–°—Ö–≤–∞–ª–µ–Ω–∏—Ö —Å—Ç–∞—Ç–µ–π: {len(approved)}')
"
```

## üõ†Ô∏è Troubleshooting

### Google Sheets –ø–æ–º–∏–ª–∫–∏
```bash
# –¢–µ—Å—Ç –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
python google_sheets_integration.py
```

### DALL-E –ø–æ–º–∏–ª–∫–∏
```bash
# –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó
python dalle_image_generator.py
```

### Telegram –ø–æ–º–∏–ª–∫–∏
```bash
# –¢–µ—Å—Ç –±–æ—Ç–∞
python telegram_bot_advanced.py
```

## üîí –ë–µ–∑–ø–µ–∫–∞

### –§–∞–π–ª–∏ –¥–ª—è .gitignore
```
credentials.json
.env
images/*.png
images/*.jpg
*.log
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
1. –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–π—Ç–µ API –∫–ª—é—á—ñ
2. –û–±–º–µ–∂—Ç–µ –ø—Ä–∞–≤–∞ Service Account
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ä—ñ–∑–Ω—ñ –±–æ—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
4. –ú–æ–Ω—ñ—Ç–æ—Ä—å—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API –∫–≤–æ—Ç

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–î–ª—è –ø–∏—Ç–∞–Ω—å –ø–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ—è—Ö:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –ª–æ–≥-—Ñ–∞–π–ª–∏
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤—ñ —Å–∫—Ä–∏–ø—Ç–∏ –º–æ–¥—É–ª—ñ–≤
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ .env —Ñ–∞–π–ª—ñ
4. –ü–µ—Ä–µ–≥–ª—è–Ω—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é API (Google Sheets, OpenAI, Telegram)
