name: Test secrets availability

on:
  workflow_dispatch:   # —Ä—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ —ñ–∑ –≤–∫–ª–∞–¥–∫–∏ Actions
  schedule:
    - cron: '0 6 * * 1'   # —Ä–∞–∑ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å —É –ø–æ–Ω–µ–¥—ñ–ª–æ–∫ –æ 06:00 UTC

jobs:
  check-secrets:
    runs-on: ubuntu-latest
    steps:
      - name: Verify that OPENAI_API_KEY is set
        run: |
          if [ -z "${{ secrets.OPENAI_API_KEY }}" ]; then
            echo "‚ùå OPENAI_API_KEY is NOT set"; exit 1;
          else
            echo "‚úÖ OPENAI_API_KEY detected (length=${#OPENAI_API_KEY})";
          fi
      - name: Verify that TELEGRAM_TOKEN is set
        run: |
          if [ -z "${{ secrets.TELEGRAM_TOKEN }}" ]; then
            echo "‚ùå TELEGRAM_TOKEN is NOT set"; exit 1;
          else
            echo "‚úÖ TELEGRAM_TOKEN detected (length=${#TELEGRAM_TOKEN})";
          fi
      - name: Verify that TELEGRAM_CHANNEL is set
        run: |
          if [ -z "${{ secrets.TELEGRAM_CHANNEL }}" ]; then
            echo "‚ùå TELEGRAM_CHANNEL is NOT set"; exit 1;
          else
            echo "‚úÖ TELEGRAM_CHANNEL detected (value=${{ secrets.TELEGRAM_CHANNEL }})";
          fi
      - name: All secrets check summary
        run: |
          echo "üéâ All required secrets are properly configured!"
          echo "Ready to run the main news parser workflow."
